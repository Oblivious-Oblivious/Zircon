#include "syntaxme.h"
#include <stdio.h>

/* All objects implement the (Object) class */
object Test implements Object {
    fields {
        char *str;
    }

    init {
        str = "ok";
    }

    defer {}
}

int main(void) {
    Test @obj1 = Test "new";
    Test @obj2 = Test "new";
    
    if(@obj1 "==" @obj1) printf("obj1 == obj1\n");
    if(@obj1 "!=" @obj2) printf("obj1 != obj2\n");

    char *res = @obj1->class;
    char *res2 = @obj2 "to string";
    
    /* res: Test, res2: Test */
    printf("res: %s\nres2: %s\n", res, res2);
    /* Test */
    printf("%s\n", @obj2);

    /* Print str */
    @obj1->str = "test";
    printf("@obj1->str = %s\n", @obj1->str);
}
